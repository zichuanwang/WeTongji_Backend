<%= form_for(@activity, :html => {:multipart => true, :class => 'form-horizontal'}) do |f| %>
  <% if @activity.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@activity.errors.count, "error") %> prohibited this activity from being saved:</h2>

      <ul>
      <% @activity.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>


    <div class="row-fluid">
        <div class="span12">
            <div class="control-group">
                <label class="control-label">标题</label>
                <div class="controls">
                    <%= f.text_field :title, { :class => "m-wrap span12" } %>
                </div>
            </div>
        </div>
    </div>

    <div class="row-fluid">
        <div class="span6">
            <div class="control-group">
                <label class="control-label">日期</label>
                <div class="controls">
                    <input type="text" id="activity_day" name="date[day]" class="m-wrap span12" value="<%= get_day(@activity) %>" />
                </div>
            </div>
        </div>
        <div class="span3">
            <div class="control-group">
                <label class="control-label">开始时间</label>
                <div class="controls">
                    <input type="text" name="date[begin_time]" class="m-wrap span12" value="<%= get_begin_time(@activity) %>" />
                </div>
            </div>
        </div>
        <div class="span3">
            <div class="control-group">
                <label class="control-label">结束时间</label>
                <div class="controls">
                    <input type="text" name="date[end_time]" class="m-wrap span12" value="<%= get_end_time(@activity) %>" />
                </div>
            </div>
        </div>
    </div>

    <div class="row-fluid">
        <div class="span12">
            <div class="control-group">
                <label class="control-label">地点</label>
                <div class="controls">
                    <%= f.text_field :location, { :class => "m-wrap span12" } %>
                </div>
            </div>
        </div>
    </div>

    <div class="row-fluid">
        <div class="span6">
            <div class="control-group">
                <label class="control-label">频道</label>
                <div class="controls">
                    <%= f.select :channel_id, Channel.all.collect{|c|[ c.title, c.id ]} %>
                </div>
            </div>
        </div>

        <div class="span6">
            <div class="control-group">
                <label class="control-label">状态</label>
                <div class="controls">
                    <%= f.text_field :status, { :class => "m-wrap span12" } %>
                </div>
            </div>
        </div>
    </div>

    <div class="row-fluid">
        <div class="span12">
            <div class="control-group">
                <label class="control-label">图片(300K,jpeg)</label>
                <div class="controls">
                    <%= f.file_field :image, { :class => "small" } %>
                </div>
            </div>
        </div>
    </div>

    <div class="row-fluid">
        <div class="span12">
            <div class="control-group">
                <label class="control-label">说明</label>
                <div class="controls">
                    <%= f.text_area :description, :rows => 12, :cols => 50, :class => "m-wrap span12" %>
                </div>
            </div>
        </div>
    </div>

    <div class="form-actions">
        <button type="submit" class="btn light-grey"><i class="icon-ok"></i> 保存</button>
    </div>
<% end %>         